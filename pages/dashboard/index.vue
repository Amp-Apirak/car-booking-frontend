<template>
  <!-- DashboardPanel ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å -->
  <UDashboardPanel>

    <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤ -->
    <template #body>
      <div class="space-y-6">
        <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö -->
        <UPageCard>
          <template #header>
            <div class="flex items-center gap-3">
              <UIcon name="i-lucide-car" class="size-8 text-primary" />
              <div>
                <h2 class="text-xl font-semibold">
                  üöó ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏£‡∏ñ
                </h2>
                <p class="text-muted text-sm">
                  ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                </p>
              </div>
            </div>
          </template>

          <template #body>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
              <!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ -->
              <UCard class="hover:shadow-md transition-shadow">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm text-muted">‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                    <p class="text-2xl font-bold text-primary">12</p>
                    <p class="text-xs text-success">+20% ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô</p>
                  </div>
                  <UIcon
                    name="i-lucide-calendar-check"
                    class="size-8 text-success"
                  />
                </div>
              </UCard>

              <!-- ‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
              <UCard class="hover:shadow-md transition-shadow">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm text-muted">‡∏£‡∏ñ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ</p>
                    <p class="text-2xl font-bold text-success">8</p>
                    <p class="text-xs text-info">‡∏à‡∏≤‡∏Å 12 ‡∏Ñ‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                  </div>
                  <UIcon name="i-lucide-car" class="size-8 text-info" />
                </div>
              </UCard>

              <!-- ‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà -->
              <UCard class="hover:shadow-md transition-shadow">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm text-muted">‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</p>
                    <p class="text-2xl font-bold text-warning">4</p>
                    <p class="text-xs text-warning">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</p>
                  </div>
                  <UIcon name="i-lucide-clock" class="size-8 text-warning" />
                </div>
              </UCard>

              <!-- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ -->
              <UCard class="hover:shadow-md transition-shadow">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm text-muted">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                    <p class="text-2xl font-bold text-success">‡∏ø25,800</p>
                    <p class="text-xs text-success">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ‡∏ø30,000</p>
                  </div>
                  <UIcon name="i-lucide-banknote" class="size-8 text-success" />
                </div>
              </UCard>
            </div>
          </template>
        </UPageCard>

        <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î -->
        <UPageCard>
          <template #header>
            <div class="flex items-center justify-between">
              <h3 class="text-lg font-semibold">‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
              <UButton 
                label="‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" 
                variant="outline" 
                size="sm"
                to="/dashboard/bookings"
              />
            </div>
          </template>

          <template #body>
            <div class="space-y-3">
              <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á -->
              <UCard 
                v-for="booking in recentBookings"
                :key="booking.id"
                class="hover:bg-muted/50 transition-colors cursor-pointer"
              >
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <UAvatar
                      :src="booking.customerAvatar"
                      :alt="booking.customerName"
                      size="sm"
                    />
                    <div>
                      <p class="font-medium">{{ booking.customerName }}</p>
                      <p class="text-sm text-muted">{{ booking.carModel }}</p>
                    </div>
                  </div>

                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-sm font-medium">{{ booking.date }}</p>
                      <p class="text-xs text-muted">{{ booking.time }}</p>
                    </div>
                    <UBadge
                      :label="getStatusLabel(booking.status)"
                      :color="getStatusColor(booking.status)"
                      variant="subtle"
                    />
                  </div>
                </div>
              </UCard>

              <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
              <div 
                v-if="recentBookings.length === 0"
                class="text-center py-8 text-muted"
              >
                <UIcon name="i-lucide-calendar-x" class="size-12 mx-auto mb-2" />
                <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
              </div>
            </div>
          </template>
        </UPageCard>

        <!-- Quick Actions -->
        <UPageCard>
          <template #header>
            <h3 class="text-lg font-semibold">‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πà‡∏ß‡∏ô</h3>
          </template>

          <template #body>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <UButton
                label="‡∏à‡∏≠‡∏á‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà"
                icon="i-lucide-plus"
                color="primary"
                variant="outline"
                class="h-20 flex-col"
                to="/dashboard/bookings/new"
              />
              <UButton
                label="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà"
                icon="i-lucide-car"
                color="success"
                variant="outline"
                class="h-20 flex-col"
                to="/dashboard/cars/new"
              />
              <UButton
                label="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô"
                icon="i-lucide-chart-bar"
                color="info"
                variant="outline"
                class="h-20 flex-col"
                to="/dashboard/reports"
              />
              <UButton
                label="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"
                icon="i-lucide-users"
                color="warning"
                variant="outline"
                class="h-20 flex-col"
                to="/dashboard/customers"
              />
            </div>
          </template>
        </UPageCard>
      </div>
    </template>
  </UDashboardPanel>
</template>

<script setup lang="ts">
// ‡πÉ‡∏ä‡πâ default layout (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î layout ‡πÅ‡∏¢‡∏Å)
// definePageMeta ‡∏à‡∏∞‡πÉ‡∏ä‡πâ default layout ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
definePageMeta({
  middleware: 'auth'
})

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
const recentBookings = ref([
  {
    id: 1,
    customerName: "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ",
    customerAvatar: "https://github.com/nuxt.png",
    carModel: "Toyota Camry",
    date: "25 ‡∏ò.‡∏Ñ. 2024",
    time: "09:00",
    status: "confirmed",
  },
  {
    id: 2,
    customerName: "‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏£‡∏±‡∏Å‡∏©‡πå‡∏î‡∏µ",
    customerAvatar: "https://github.com/vuejs.png",
    carModel: "Honda Civic",
    date: "24 ‡∏ò.‡∏Ñ. 2024",
    time: "14:30",
    status: "pending",
  },
  {
    id: 3,
    customerName: "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ ‡πÄ‡∏Å‡πà‡∏á‡∏î‡∏µ",
    customerAvatar: "https://github.com/antfu.png",
    carModel: "Mazda 3",
    date: "23 ‡∏ò.‡∏Ñ. 2024",
    time: "10:15",
    status: "completed",
  },
]);

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏Ç‡∏≠‡∏á status badge
function getStatusColor(status: string) {
  switch (status) {
    case "confirmed":
      return "success";
    case "pending":
      return "warning";
    case "completed":
      return "info";
    case "cancelled":
      return "error";
    default:
      return "neutral";
  }
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á status ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
function getStatusLabel(status: string) {
  switch (status) {
    case "confirmed":
      return "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß";
    case "pending":
      return "‡∏£‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô";
    case "completed":
      return "‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô";
    case "cancelled":
      return "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å";
    default:
      return "‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞";
  }
}
</script>